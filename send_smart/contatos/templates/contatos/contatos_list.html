{%extends 'base.html' %}
{% load static %}
{%block title%}
Página inícial
{%endblock title%}
{% block content%}
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="http://127.0.0.1:8000">Início</a></li>
      <li class="breadcrumb-item"aria-current="page">Contatos</li>
      <li class="breadcrumb-item active" aria-current="page">Mensagem</li>
    </ol>
  </nav>

    <form method="post" enctype="multipart/form-data" action="http://127.0.0.1:8000/contato/selecionados">
        {% csrf_token %}
        <div class="col-lg-12" style="text-align: right;">
            <a href="http://127.0.0.1:8000" class="btn btn-success">&laquo; Voltar</a>
            <button type="submit" class="btn btn-success">Enviar Texto &raquo;</button>
            <a href="http://127.0.0.1:8000/mensagem/upload" class="btn btn-success"> Enviar imagem &raquo;</a>
        </div>
        <h1>Lista de Contatos</h1>
        <table class="table">
            <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Nome</th>
                <th scope="col">Contato</th>
                <th>
                    <input type="checkbox" class="form-check-input" id="selectAll" />
                </th>
                
            </tr>
            </thead>
            <tbody>
            {%for contato in contatos%}
            <tr>
                <td>{{contato.pk}}</td>
                <td>{{contato.nome}}</td>
                <td>{{contato.contato}}</td>
                <td>
                     <input type='checkbox'  class="form-check-input" name='check[]' value='{{contato.pk}}'></input>
                <td>
            </tr>
            {%endfor%}
            </tbody>
        </table>
    </form>
    <script>
        document.getElementById('selectAll')
                  .addEventListener('change', function () {
            let checkboxes = 
                document.querySelectorAll('.form-check-input');
            checkboxes.forEach(function (checkbox) {
                checkbox.checked = this.checked;
            }, this);
        });
    </script> 
{% endblock content%}
